BOARD_MKBOOTIMG_ARGS := --kernel_offset 0x0800000 --ramdisk_offset 0x300000 --second_offset 0x600010
SECURE_PLAYBACK_ENABLE := false
BOARD_SEPOLICY_DIRS += device/intel/sepolicy/boot-arch/sofia
PREBUILT_FLS ?= $(CURDIR)/hardware/intel/$(TARGET_BOARD_PLATFORM)-fls/$(subst r2_,,$(TARGET_DEVICE))
{{^fls_prebuilts}}
USE_IMC_BUILD_RULES ?= true
ifeq "$(wildcard $(ANDROID_BUILD_TOP)/../soclib/)" ""
INTEL_PRG_FILE ?= $(PREBUILT_FLS)/modem_cfg_emmc.prg
GEN_PRG_FROM_SRC := true
BUILD_MODEM := 0
SOFIA_PROVDATA_FILES += $(FLSTOOL)
else
GEN_PRG_FROM_SRC := true
endif
{{/fls_prebuilts}}
{{#fls_prebuilts}}
USE_IMC_BUILD_RULES ?= true
# Flash partition layout:
INTEL_PRG_FILE := $(CURDIR)/hardware/intel/$(TARGET_BOARD_PLATFORM)-fls/modem_cfg_emmc.prg
ifeq ($(wildcard $(INTEL_PRG_FILE)),)
INTEL_PRG_FILE := $(CURDIR)/hardware/intel/$(TARGET_BOARD_PLATFORM)-fls/$(subst r2_,,$(TARGET_DEVICE))/modem_cfg_emmc.prg
endif
GEN_PRG_FROM_SRC := false

BOARD_USE_FLS_PREBUILTS := $(TARGET_DEVICE)
{{/fls_prebuilts}}

ifneq ($(wildcard  $(CURDIR)/device/$(PRODUCT_BRAND)/${TARGET_BOARD_PLATFORM}/$(TARGET_DEVICE)/partition.xml),)
PARTITION_XML_PATH := $(CURDIR)/device/$(PRODUCT_BRAND)/${TARGET_BOARD_PLATFORM}/$(TARGET_DEVICE)/partition.xml
else
PARTITION_XML_PATH := $(CURDIR)/device/$(PRODUCT_BRAND)/${TARGET_BOARD_PLATFORM}/partition.xml
endif
ifneq ($(wildcard  $(CURDIR)/device/$(PRODUCT_BRAND)/${TARGET_BOARD_PLATFORM}/$(TARGET_DEVICE)/8192_ram_layout.xml),)
RAMLAYOUT_XML_PATH := $(CURDIR)/device/$(PRODUCT_BRAND)/${TARGET_BOARD_PLATFORM}/$(TARGET_DEVICE)/8192_ram_layout.xml
else
RAMLAYOUT_XML_PATH := $(CURDIR)/device/$(PRODUCT_BRAND)/${TARGET_BOARD_PLATFORM}/8192_ram_layout.xml
endif

TARGET_RELEASETOOLS_EXTENSIONS := device/intel/common/recovery/${TARGET_BOARD_PLATFORM}/
TARGET_RECOVERY_UPDATER_LIBS := libcommon_recovery librecovery_${TARGET_BOARD_PLATFORM}_1a_intel


